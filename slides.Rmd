---
title: "Comparing Greenland, Delta, and Monte Carlo Methods for PAF Confidence Intervals"
author: "Group 7: Theyab Alkhoori & Kelsey Britton"
output: ioslides_presentation
---
```{r setup, include=FALSE}
set.seed(400)
source("code.R") 
knitr::opts_chunk$set(echo = FALSE)
```

## Introduction


- $PAF$ - Population Attributable Fraction
- $RR$ - Relative Risk
- $P_e$ - proportion of the population exposed
  
- PAF Formula: 
\[
PAF = \frac{P_e(RR-1)}{P_e(RR-1)+1}
\]

## CI Methods

- Delta Method
- Greenland Method
- Monte Carlo

## Project Outline

- Replicate scenario from *A Comparison of Green, Delta, and Monte Carlo Methods to Select an Optimal Approach for Calculating the 95% Confidence Interval of the Population-Attributable Fraction.* by Lee et al.

- Compare:
  - PAF estimates
  - CI width
  - Coverage Probability
  - How often CIs leave the our "valid range" of [0,1]
  
  
## Scenario A

- Sample Size : 1000
- P_e: 0.10
- RR : 1.2
- True PAF : 0.0196
- Number of Simulations : 500

## 

```{r}
kable(
scenarioA_results,
digits = 5,
caption = "Scenario A: PAF estimates and 95% CIs."
)
```
##

```{r}
kable(
coverage_width_A,
digits = 4,
caption = "Scenario A: Coverage and mean CI width."
)
```

## Scenario B

- Sample Size : 100,000  
- P_e: 0.10  
- RR : 5.0  
- True PAF : 0.2857 
- Number of Simulations : 500

##

```{r}
kable(
  scenarioB_results,
  digits = 5,
  caption = "Scenario B: PAF estimates and 95% CIs."
)
```
##

```{r}
kable(
  coverage_width_B,
  digits = 4,
  caption = "Scenario B: Coverage and mean CI width."
)
```
# Results

# Conclusion
